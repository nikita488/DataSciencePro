# Финальный проект

Бот для автоматического распознавания номерных знаков на фотографиях транспортных средств, при соблюдении условий видимости и стандартного расположения номеров.

Для распознавания используется **YOLOv5**.

Минимальный порог уверенности, при котором обнаружение считается достоверным: **75%**.

Минимальные поддерживаемые разрешения изображений: *320x240*, *240x320*, *240x240*.

[Ссылка на Telegram бот](https://t.me/bh_hw6_bot)

# Мотивация:

Может быть полезен для фиксации нарушений, контроля доступа и др.

# Процесс:

Пользователь отправляет фотографию вида:

![Входная фотография](example/input.png "Входная фотография")

Ответ бота:

![Выходная фотография](example/output.png "Выходная фотография")<br>
Уверенность: 80%

# Установка и запуск:

**Клонировать YOLOv5:**

```git clone https://github.com/ultralytics/yolov5.git```

**Установить зависимости:**

```pip install -r requirements.txt```

**Создать файл .env с таким содержимым:**

```BOT_TOKEN="токен полученный в @BotFather"```

**Запустить бота:**

```.venv/Scripts/python.exe app.py```

# Недостатки

Иногда **YOLOv5** определяет номерные знаки в неожиданных местах, определяет что-либо, но не номерные знаки, или не определяет их вовсе.

**Гипотезы:**

1. Модель обучена распознавать только номерные знаки, а не транспортные средства. Поэтому она проверяет похожа ли табличка на номерной знак, а не где он находится.

2. В тренировочном наборе не было:
    - номерных знаков вне привычных мест у транспортных средств;
    - перекрытых или частично видимых номерных знаков;
    - декоративных, пустых или других знаков.

3. Прямоугольные объекты с контрастными символами могут ошибочно восприниматься как номерные знаки.

4. Высокий *confidence* говорит о том, что объект похож на номерной знак, но не подтверждает его назначение или корректное расположение.

# Что делать?

1. Добавить в обучение сложные и ложные примеры.

2. Использовать дополнительную модель/фильтр для проверки, что номерной знак установлен на транспортном средстве.

3. Применять эвристики по положению и размеру объекта на изображении.